# GitHub Actions Workflows

–≠—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ GitHub Actions workflows –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞ –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è.

## üîß –î–æ—Å—Ç—É–ø–Ω—ã–µ Workflows

### 1. **Django Tests** (`.github/workflows/django-tests.yml`)
- **–¢—Ä–∏–≥–≥–µ—Ä**: Push/PR –≤ `master` –∏–ª–∏ `main`
- **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç**: –ó–∞–ø—É—Å–∫–∞–µ—Ç –≤—Å–µ Django —Ç–µ—Å—Ç—ã —Å PostgreSQL –∏ Redis
- **–í–∫–ª—é—á–∞–µ—Ç**:
  - –¢–µ—Å—Ç—ã –º–æ–¥–µ–ª–µ–π (`test_models.py`)
  - –¢–µ—Å—Ç—ã —Ñ–æ—Ä–º (`test_forms.py`) 
  - –¢–µ—Å—Ç—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π (`test_views.py`)
  - –¢–µ—Å—Ç—ã —è–¥—Ä–∞ —Å–∏—Å—Ç–µ–º—ã (`check_system.tests`)
  - –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã (`tests.py`)
  - –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞ (coverage)
  - –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ Codecov

### 2. **Core System Tests** (`.github/workflows/core-tests.yml`)
- **–¢—Ä–∏–≥–≥–µ—Ä**: Push/PR –≤ `master` –∏–ª–∏ `main`
- **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç**: –¢–µ—Å—Ç–∏—Ä—É–µ—Ç —è–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–¥–∞
- **–í–∫–ª—é—á–∞–µ—Ç**:
  - –¢–µ—Å—Ç—ã stdin/stdout —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
  - –¢–µ—Å—Ç—ã —Ä–∞–±–æ—Ç—ã —Å –∫–ª–∞—Å—Å–∞–º–∏
  - –¢–µ—Å—Ç—ã –ø–∞–º—è—Ç–∏ –∏ —Ç–∞–π–º–∞—É—Ç–æ–≤
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

### 3. **Code Quality & Linting** (`.github/workflows/linter.yml`)
- **–¢—Ä–∏–≥–≥–µ—Ä**: Push/PR –≤ `master` –∏–ª–∏ `main`
- **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç**: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞
- **–í–∫–ª—é—á–∞–µ—Ç**:
  - Pylint (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑)
  - Flake8 (—Å—Ç–∏–ª—å –∫–æ–¥–∞)
  - Black (—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
  - isort (—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∏–º–ø–æ—Ä—Ç–æ–≤)
  - Bandit (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)

### 4. **Docker Tests** (`.github/workflows/docker-tests.yml`)
- **–¢—Ä–∏–≥–≥–µ—Ä**: Push/PR –≤ `master` –∏–ª–∏ `main`
- **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç**: –¢–µ—Å—Ç–∏—Ä—É–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ Docker –æ–∫—Ä—É–∂–µ–Ω–∏–∏
- **–í–∫–ª—é—á–∞–µ—Ç**:
  - –°–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–æ–≤
  - –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
  - –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
  - –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ API endpoints
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–æ–≤

### 5. **Full Test Suite** (`.github/workflows/full-test-suite.yml`)
- **–¢—Ä–∏–≥–≥–µ—Ä**: Push/PR –≤ `master` –∏–ª–∏ `main` + –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ –ø–æ –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫–∞–º
- **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç**: –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **–í–∫–ª—é—á–∞–µ—Ç**:
  - –ú–∞—Ç—Ä–∏—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (Python 3.11, 3.12)
  - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å PostgreSQL –∏ SQLite
  - –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
  - –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞
  - –ó–∞–≥—Ä—É–∑–∫–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤

### 6. **Security Scan** (`.github/workflows/security.yml`)
- **–¢—Ä–∏–≥–≥–µ—Ä**: Push/PR –≤ `master` –∏–ª–∏ `main` + –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ –ø–æ –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫–∞–º
- **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç**: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∫–æ–¥–∞
- **–í–∫–ª—é—á–∞–µ—Ç**:
  - Bandit (–∞–Ω–∞–ª–∏–∑ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ Python)
  - Safety (–ø—Ä–æ–≤–µ—Ä–∫–∞ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö)
  - Semgrep (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ Django security settings
  - –ü–æ–∏—Å–∫ hardcoded secrets

### 7. **Deploy** (`.github/workflows/deploy.yml`)
- **–¢—Ä–∏–≥–≥–µ—Ä**: Push –≤ `master`
- **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç**: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- **–í–∫–ª—é—á–∞–µ—Ç**:
  - –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
  - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞—Ç—ã —Ä–µ–ª–∏–∑–∞
  - –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

–í—Å–µ workflows –∏—Å–ø–æ–ª—å–∑—É—é—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è:
```yaml
permissions:
  contents: read
```

–≠—Ç–æ —Å–ª–µ–¥—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø—É –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.

## üìä –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏

- **–ú–æ–¥–µ–ª–∏**: 100% –ø–æ–∫—Ä—ã—Ç–∏–µ
- **–§–æ—Ä–º—ã**: 100% –ø–æ–∫—Ä—ã—Ç–∏–µ  
- **–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è**: 100% –ø–æ–∫—Ä—ã—Ç–∏–µ
- **–Ø–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã**: 100% –ø–æ–∫—Ä—ã—Ç–∏–µ
- **–û–±—â–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ**: >95%

## üöÄ –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤ –ª–æ–∫–∞–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Makefile:

```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã
make test

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–µ—Å—Ç—ã
make test-models
make test-forms
make test-views
make test-core

# –° –ø–æ–∫—Ä—ã—Ç–∏–µ–º
make test-all

# –í Docker
make test-docker

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞
make lint
make format
```

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ GitHub Actions
- –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤ Codecov
- –û—Ç—á–µ—Ç—ã –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∫–∞–∫ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã
- –õ–æ–≥–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –∫–∞–∂–¥–æ–º workflow

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

- **–ü—Ä–∏ –∫–∞–∂–¥–æ–º push/PR**: Django tests, Core tests, Linting, Docker tests
- **–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ**: Full test suite, Security scan
- **–ü—Ä–∏ push –≤ master**: Deploy

–≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ (CI/CD) —Å –≤—ã—Å–æ–∫–∏–º –∫–∞—á–µ—Å—Ç–≤–æ–º –∫–æ–¥–∞ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é.
